{% extends 'mrp/blank-page.html' %}
{% load static %}
{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <div class="card-title">انتخاب پروفایل مالی</div>
                <div class="row">
                    <div class="col-md-3">
                        <select name="" id="profile_year" class="form-control">

                            {% for i in profile_list %}
                            <option value="{{i.id}}" {% if i.id == selected_profile %} selected {% endif%}> {{i.description}}</option>
         
                            {% endfor %}
                         </select>
                    </div>
                    <div class="col-md-3">
                        <button class="btn btn-outline-light" id="go_to_profile">برو به این پروفایل</button>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">

        <div class="card">
            <div class="card-body">
                <h6 class="card-title">{{title}}</h6>
                <div class="mb-3">
                    <div class="btn-group" role="group" aria-label="Filter by production line">
                        <button type="button" class="btn btn-outline-primary filter-btn active" data-line="all">همه</button>
                        <button type="button" class="btn btn-outline-primary filter-btn" data-line="6936">خط 1</button>
                        <button type="button" class="btn btn-outline-primary filter-btn" data-line="6942">خط 2</button>
                        <button type="button" class="btn btn-outline-primary filter-btn" data-line="6961">خط 4</button>
                    </div>
                </div>
                <div class="table-responsive" tabindex="1" style="overflow: hidden; outline: none;">
                    <table class="table table-striped table-bordered" id="company-table">
                        <thead>
                        <tr class="bg-info">
                        <th>نام دستگاه</th>
                        <th>تعداد اپراتور</th>
                        <th>حداکثر راندمان</th>
                        <th>راندمان یک دستگاه</th>
                        <th>مضرب 3 راندمان</th>
                        <th>مبلغ کل راندمان (واقعی)</th>
                        <th>مبلغ کل راندمان (واقعی)</th>
                        <th>راندمان تولید</th>
                        <td></td>

                        </tr>
                        </thead>
                        <tbody id="tbody_company">
                          {% include 'mrp/assetrandeman/assetrandemaninit/partialInitRandemanList.html' %}

                          </tbody>
                    </table>
                    <div class="modal fade" id="modal-company">
                        <div class="modal-dialog  modal-lg ">
     
                          <div class="modal-content ">
                          </div>
                        </div>
                       </div>
                </div>

            </div>
        </div>



    </div>
</div>

{% endblock %}
{% load static %}

{% block javascript %}

<script>
    var randeman_kol_glob={{mablagh}};
    var mazrab_3_glob={{mazrab_3}};
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const filterButtons = document.querySelectorAll('.filter-btn');
        const tableRows = document.querySelectorAll('#tbody_company tr');
    
        filterButtons.forEach(button => {
            button.addEventListener('click', function () {
                const selectedLine = this.getAttribute('data-line');
    
                // Remove active class from all buttons
                filterButtons.forEach(btn => btn.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');
    
                // Filter rows
                tableRows.forEach(row => {
                    if (selectedLine === 'all' || row.getAttribute('data-line') === selectedLine) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
            });
        });
    });
    </script>
 <script src="{% static 'project/assetrandemaninit.js' %}"></script>
 

{% endblock %}
